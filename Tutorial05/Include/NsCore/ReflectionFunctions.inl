////////////////////////////////////////////////////////////////////////////////////////////////////
// Noesis Engine - http://www.noesisengine.com
// Copyright (c) 2009-2010 Noesis Technologies S.L. All Rights Reserved.
////////////////////////////////////////////////////////////////////////////////////////////////////


#include <NsCore/Error.h>


namespace Noesis
{
namespace Core
{

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
BaseObject* ReflectionFunctions::GetBaseObject(const T*, Int2Type<0>)
{
    NS_ASSERT_UNREACHABLE;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
BaseObject* ReflectionFunctions::GetBaseObject(const T* object, Int2Type<1>)
{
    return (BaseObject*)object;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::AddReference(const T*, Int2Type<0>)
{
    NS_ASSERT_UNREACHABLE;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::AddReference(const T* object, Int2Type<1>)
{
    return object->InternalAddReference();
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::Release(const T*, Int2Type<0>)
{
    NS_ASSERT_UNREACHABLE;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::Release(const T* object, Int2Type<1>)
{
    return object->InternalRelease();
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::GetNumReferences(const T*, Int2Type<0>)
{
    NS_ASSERT_UNREACHABLE;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
template<class T>
NsInt32 ReflectionFunctions::GetNumReferences(const T* object, Int2Type<1>)
{
    return object->InternalGetNumReferences();
}

}
}
